import{s as W,f as X,n as Y}from"../chunks/scheduler.1f6706a1.js";import{S as Z,i as x,g as y,s as D,m as L,h as C,j as N,c as I,n as M,f as v,k as _,a as T,y as g,d as U,b as ee,t as O,z as te,x as H,r as le,u as se,v as ie,A as j,o as ae,w as ne,p as re}from"../chunks/index.5dc5c8e5.js";import{e as J}from"../chunks/each.e59479a4.js";import{P as oe}from"../chunks/Pokemon.60ed7d86.js";function K(t,e,o){const l=t.slice();return l[7]=e[o],l}function ue(t){let e,o="No fighters yet !",l,r,h='<a href="/create-fighter" class="add-figther svelte-iqbdhx"><span>+</span></a> <p class="svelte-iqbdhx">Add a fighter !</p>';return{c(){e=y("h1"),e.textContent=o,l=D(),r=y("div"),r.innerHTML=h,this.h()},l(s){e=C(s,"H1",{"data-svelte-h":!0}),H(e)!=="svelte-191t0o4"&&(e.textContent=o),l=I(s),r=C(s,"DIV",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1oe5xvu"&&(r.innerHTML=h),this.h()},h(){_(r,"class","button-wrapper svelte-iqbdhx")},m(s,i){T(s,e,i),T(s,l,i),T(s,r,i)},d(s){s&&(v(e),v(l),v(r))}}}function ce(t){var s;let e,o,l,r=((s=t[2])==null?void 0:s.points)+"",h;return{c(){e=y("img"),l=D(),h=L(r),this.h()},l(i){e=C(i,"IMG",{src:!0,alt:!0}),l=I(i),h=M(i,r),this.h()},h(){X(e.src,o="/src/lib/assets/crown.png")||_(e,"src",o),_(e,"alt","")},m(i,d){T(i,e,d),T(i,l,d),T(i,h,d)},p:Y,d(i){i&&(v(e),v(l),v(h))}}}function he(t){let e,o,l,r,h;function s(){return t[5](t[7])}return{c(){e=y("button"),o=L("Select"),this.h()},l(i){e=C(i,"BUTTON",{class:!0});var d=N(e);o=M(d,"Select"),d.forEach(v),this.h()},h(){_(e,"class","choose-fighter svelte-iqbdhx"),e.disabled=l=t[0].length===2},m(i,d){T(i,e,d),g(e,o),r||(h=j(e,"click",s),r=!0)},p(i,d){t=i,d&1&&l!==(l=t[0].length===2)&&(e.disabled=l)},d(i){i&&v(e),r=!1,h()}}}function de(t){let e,o="Unselect",l,r;function h(){return t[4](t[7])}return{c(){e=y("button"),e.textContent=o,this.h()},l(s){e=C(s,"BUTTON",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-13x97ks"&&(e.textContent=o),this.h()},h(){_(e,"class","choose-fighter svelte-iqbdhx")},m(s,i){T(s,e,i),l||(r=j(e,"click",h),l=!0)},p(s,i){t=s},d(s){s&&v(e),l=!1,r()}}}function Q(t){var F;let e,o,l,r,h=t[0].includes(t[7].uuid)?"Selected":"",s,i,d,q,c,b,E,n,P="Delete",a,u,m,$,f;o=new oe({props:{pokemon:t[7]}});let w=((F=t[2])==null?void 0:F.uuid)===t[7].uuid&&ce(t);function z(k,p){return p&1&&(b=null),b==null&&(b=!!k[0].includes(k[7].uuid)),b?de:he}let V=z(t,-1),S=V(t);function R(){return t[6](t[7])}return{c(){e=y("div"),le(o.$$.fragment),l=D(),r=y("span"),s=L(h),i=D(),d=y("span"),w&&w.c(),q=D(),c=y("div"),S.c(),E=D(),n=y("button"),n.textContent=P,a=D(),this.h()},l(k){e=C(k,"DIV",{class:!0,style:!0});var p=N(e);se(o.$$.fragment,p),l=I(p),r=C(p,"SPAN",{class:!0});var A=N(r);s=M(A,h),A.forEach(v),i=I(p),d=C(p,"SPAN",{class:!0});var G=N(d);w&&w.l(G),G.forEach(v),q=I(p),c=C(p,"DIV",{class:!0});var B=N(c);S.l(B),E=I(B),n=C(B,"BUTTON",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-1muj4ge"&&(n.textContent=P),B.forEach(v),a=I(p),p.forEach(v),this.h()},h(){_(r,"class","is-selected svelte-iqbdhx"),_(d,"class","is-champion svelte-iqbdhx"),_(n,"class","delete-fighter svelte-iqbdhx"),_(c,"class","select-fighter svelte-iqbdhx"),_(e,"class","fighter-wrapper svelte-iqbdhx"),_(e,"style",u=t[0].includes(t[7].uuid)?"border: #cc0000 solid":"")},m(k,p){T(k,e,p),ie(o,e,null),g(e,l),g(e,r),g(r,s),g(e,i),g(e,d),w&&w.m(d,null),g(e,q),g(e,c),S.m(c,null),g(c,E),g(c,n),g(e,a),m=!0,$||(f=j(n,"click",R),$=!0)},p(k,p){var A;t=k,(!m||p&1)&&h!==(h=t[0].includes(t[7].uuid)?"Selected":"")&&ae(s,h),((A=t[2])==null?void 0:A.uuid)===t[7].uuid&&w.p(t,p),V===(V=z(t,p))&&S?S.p(t,p):(S.d(1),S=V(t),S&&(S.c(),S.m(c,E))),(!m||p&1&&u!==(u=t[0].includes(t[7].uuid)?"border: #cc0000 solid":""))&&_(e,"style",u)},i(k){m||(U(o.$$.fragment,k),m=!0)},o(k){O(o.$$.fragment,k),m=!1},d(k){k&&v(e),ne(o),w&&w.d(),S.d(),$=!1,f()}}}function fe(t){let e,o,l,r,h,s,i,d,q,c,b=t[1].length===0&&ue(),E=J(t[1]),n=[];for(let a=0;a<E.length;a+=1)n[a]=Q(K(t,E,a));const P=a=>O(n[a],1,1,()=>{n[a]=null});return{c(){e=y("div"),b&&b.c(),o=D(),l=y("a"),r=L("Start the fight !"),d=D(),q=y("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=C(a,"DIV",{class:!0});var u=N(e);b&&b.l(u),o=I(u),l=C(u,"A",{href:!0,class:!0,"aria-disabled":!0,style:!0});var m=N(l);r=M(m,"Start the fight !"),m.forEach(v),d=I(u),q=C(u,"DIV",{class:!0});var $=N(q);for(let f=0;f<n.length;f+=1)n[f].l($);$.forEach(v),u.forEach(v),this.h()},h(){var a,u;_(l,"href",h=`/fight?uuid1=${(a=t[0])==null?void 0:a[0]}&uuid2=${(u=t[0])==null?void 0:u[1]}`),_(l,"class","start-fight svelte-iqbdhx"),_(l,"aria-disabled",s=t[0].length!==2),_(l,"style",i=t[0].length!==2?"background: #86815c; cursor:not-allowed;":""),_(q,"class","figthers-wrapper svelte-iqbdhx"),_(e,"class","main svelte-iqbdhx")},m(a,u){T(a,e,u),b&&b.m(e,null),g(e,o),g(e,l),g(l,r),g(e,d),g(e,q);for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(q,null);c=!0},p(a,[u]){var m,$;if((!c||u&1&&h!==(h=`/fight?uuid1=${(m=a[0])==null?void 0:m[0]}&uuid2=${($=a[0])==null?void 0:$[1]}`))&&_(l,"href",h),(!c||u&1&&s!==(s=a[0].length!==2))&&_(l,"aria-disabled",s),(!c||u&1&&i!==(i=a[0].length!==2?"background: #86815c; cursor:not-allowed;":""))&&_(l,"style",i),u&7){E=J(a[1]);let f;for(f=0;f<E.length;f+=1){const w=K(a,E,f);n[f]?(n[f].p(w,u),U(n[f],1)):(n[f]=Q(w),n[f].c(),U(n[f],1),n[f].m(q,null))}for(re(),f=E.length;f<n.length;f+=1)P(f);ee()}},i(a){if(!c){for(let u=0;u<E.length;u+=1)U(n[u]);c=!0}},o(a){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)O(n[u]);c=!1},d(a){a&&v(e),b&&b.d(),te(n,a)}}}async function _e(t){await fetch(`http://localhost:5173/fighters-list?uuid=${t.uuid}`,{method:"DELETE"})}function pe(t,e,o){let{data:l}=e;const{fighters:r}=l,{champion:h}=l;let s=[];const i=c=>o(0,s=s.filter(b=>b!==c.uuid)),d=c=>o(0,s=[...s,c.uuid]),q=c=>_e(c);return t.$$set=c=>{"data"in c&&o(3,l=c.data)},[s,r,h,l,i,d,q]}class ke extends Z{constructor(e){super(),x(this,e,pe,fe,W,{data:3})}}export{ke as component};
